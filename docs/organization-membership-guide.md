# Organization Membership Guide

This guide explains how to join and manage organizations in Task Master.

## Overview

Task Master supports multi-tenant organizations, allowing users to:
- Create new organizations
- Join existing organizations via invitation
- Belong to multiple organizations
- Switch between organizations

## Initial Organization Setup

### For New Users

When you first sign up for Task Master:

1. **Complete Registration**: Create your account with email and password
2. **Choose Your Path**: After logging in, you'll see two options:
   - **Create a New Organization**: Start your own organization
   - **Wait for an Invitation**: Join an existing organization

### Creating a New Organization

If you choose to create a new organization:

1. Enter your organization name
2. Optionally add a description
3. Click "Create Organization"
4. You'll be automatically set as the organization admin

### Waiting for an Invitation

If you choose to wait for an invitation:

1. You'll see a message: "組織の管理者にメールで招待を送ってもらってください" (Ask the organization administrator to send you an email invitation)
2. Contact your organization admin to request an invitation
3. Once you receive the invitation email, click the link to join

## Invitation System

### For Organization Admins

To invite new members:

1. Go to Settings → Members
2. Click "Invite Member"
3. Enter the email address of the person you want to invite
4. Select their role (Admin or Member)
5. Send the invitation

### For Invitees

When you receive an invitation:

1. **New Users**: 
   - Click the invitation link
   - You'll be redirected to sign up
   - After signing up, you'll automatically join the organization

2. **Existing Users (Not Logged In)**:
   - Click the invitation link
   - Log in with your existing credentials
   - You'll see a confirmation screen to join the organization
   - Click "参加する" (Join) to accept

3. **Existing Users (Already Logged In)**:
   - Click the invitation link
   - You'll see a confirmation screen showing the organization name
   - Click "参加する" (Join) to accept
   - Your current organization setting won't change

## Managing Multiple Organizations

### Switching Organizations

If you belong to multiple organizations:

1. Click on your profile menu
2. Select "Switch Organization"
3. Choose the organization you want to work with

### Current Organization

- Your "current organization" determines which projects and tasks you see
- When you join a new organization as an existing user, your current organization doesn't automatically change
- You can manually switch to the new organization using the organization switcher

## Common Scenarios

### Scenario 1: Company Onboarding

1. HR sends you an invitation email
2. Click the link in the email
3. Sign up with your company email
4. You're automatically added to the company organization

### Scenario 2: Freelancer with Multiple Clients

1. You already have an account with Client A's organization
2. Client B sends you an invitation
3. Click the invitation link while logged in
4. Confirm joining Client B's organization
5. Use the organization switcher to move between clients

### Scenario 3: Creating a Personal Organization

1. You're already part of a work organization
2. Go to Settings → Organization → New
3. Create your personal organization
4. Switch between work and personal as needed

## Troubleshooting

### "Invalid Invitation Link" Error

- The invitation may have expired (invitations expire after 7 days)
- The link may have already been used
- Contact the organization admin for a new invitation

### Can't See the Organization After Joining

- Make sure to switch to the new organization using the organization switcher
- Check that you're logged in with the correct email address
- Refresh the page or log out and back in

### Already a Member Error

- You may have already accepted the invitation
- Check your organization list in the switcher
- Contact the admin if you still can't access the organization

## Best Practices

1. **For Admins**:
   - Only invite users with verified email addresses
   - Assign appropriate roles (admin vs member)
   - Regularly review and remove inactive members

2. **For Users**:
   - Keep your primary email consistent across organizations
   - Name your organizations clearly if you have multiple
   - Log out when using shared computers

## Security Notes

- Invitation links are single-use and expire after 7 days
- Only organization admins can send invitations
- Email verification is required before joining organizations
- Users can only accept invitations sent to their registered email address